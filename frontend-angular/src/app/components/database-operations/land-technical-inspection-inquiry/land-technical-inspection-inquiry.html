<app-header [pageTitle]="'Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ù…Ø¹Ø§ÙŠÙ†Ø© ÙÙ†ÙŠØ© Ù„Ø£Ø±Ø¶'" [showBackButton]="true" [showHomeButton]="true"
  [backButtonLabel]="'Ø§Ù„Ø¹ÙˆØ¯Ø©'" [backButtonAriaLabel]="'Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©'" (backClicked)="goBack()"
  (homeClicked)="goHome()" (logoutClicked)="logout()">
</app-header>

<div class="container">
  <div class="page-content">
    <h1>Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ù…Ø¹Ø§ÙŠÙ†Ø© ÙÙ†ÙŠØ© Ù„Ø£Ø±Ø¶</h1>
    <p class="subtitle">Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ù…Ø¹Ø§ÙŠÙ†Ø© ÙÙ†ÙŠØ© Ù„Ø£Ø±Ø¶</p>

    <div class="form-wrapper">
      <form [formGroup]="searchForm" (ngSubmit)="onSearch()">
        <div class="form-row">
          <div class="form-group">
            <label for="landCode" class="form-label">
              ÙƒÙˆØ¯ Ù‚Ø·Ø¹Ø© Ø§Ù„Ø£Ø±Ø¶
              <span class="required">*</span>
            </label>
            <div class="form-group">
              <input type="text" id="landCode" formControlName="landCode" class="form-input"
                [class.error]="getFieldError('landCode')" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ù‚Ø·Ø¹Ø© Ø§Ù„Ø£Ø±Ø¶ (Ù…Ø«Ø§Ù„: 132513)"
                autocomplete="off" />
              @if (getFieldError('landCode')) {
              <div class="error-message">
                {{ getFieldError('landCode') }}
              </div>
              }
            </div>
          </div>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            <span>ğŸ”</span>
            Ø¨Ø­Ø«
          </button>
        </div>
      </form>
    </div>

    <!-- Results Section -->
    @if (hasSearched()) {
    <div class="results-section">
      @if (selectedLandTechnicalInspection()) {
      <div class="results-header">
        <h3 class="results-title">
          <span class="results-icon">ğŸ“Š</span>
          Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø«
        </h3>
      </div>

      <div class="form-row">
        <label for="landCode">ÙƒÙˆØ¯ Ù‚Ø·Ø¹Ø© Ø§Ù„Ø£Ø±Ø¶:</label>
        <label id="landCode">{{this.selectedLandTechnicalInspection()?.landCode}}</label>
      </div>

      <!-- ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© -->
      <div class="form-row">
        <div class="form-group">
          <label for="governorateCode">ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©:</label>
          <label id="landCode">{{this.selectedLandTechnicalInspection()?.governorateCode}}</label>
        </div>
      </div>

      <!-- Ø¹Ù†ÙˆØ§Ù† Ù‚Ø·Ø¹Ø© Ø§Ù„Ø£Ø±Ø¶ -->
      <div class="form-row">
        <label for="landAddress">Ø¹Ù†ÙˆØ§Ù† Ù‚Ø·Ø¹Ø© Ø§Ù„Ø£Ø±Ø¶:</label>
        <span id="landAddress">{{this.selectedLandTechnicalInspection()?.landAddress}}</span>
      </div>

      <!-- Ø§Ø³Ù… Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø±Ø¶ -->
      <div class="form-row">
        <label for="landOwnerName">Ø§Ø³Ù… Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø±Ø¶:</label>
        <span id="landOwnerName">{{this.selectedLandTechnicalInspection()?.landOwnerName}}</span>
      </div>

      <!-- Ø¹Ù†ÙˆØ§Ù† Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø±Ø¶ -->
      <div class="form-row">
        <label for="landOwnerAddress">Ø¹Ù†ÙˆØ§Ù† Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø±Ø¶:</label>
        <span id="landOwnerAddress">{{this.selectedLandTechnicalInspection()?.landOwnerAddress}}</span>
      </div>

      <!-- Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø£Ø±Ø¶ -->
      <div class="form-row">
        <label for="totalArea">Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø£Ø±Ø¶:</label>
        <span id="totalArea">{{this.selectedLandTechnicalInspection()?.totalArea}}</span>
      </div>

      <!-- Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø£Ø±Ø¶ -->
      <div class="form-row">
        <label for="landNature">Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø£Ø±Ø¶:</label>
        <span id="landNature">{{this.selectedLandTechnicalInspection()?.landNature}}</span>
      </div>

      <!-- ÙƒÙˆØ¯ Ø§Ù„Ù…Ù„ÙƒÙŠØ© -->
      <div class="form-row">
        <label for="landOwnershipCode">ÙƒÙˆØ¯ Ø§Ù„Ù…Ù„ÙƒÙŠØ©:</label>
        <span id="landOwnershipCode">{{this.selectedLandTechnicalInspection()?.landOwnerShipName}}</span>
      </div>

      <!-- Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª ÙˆØ£Ø·ÙˆØ§Ù„ Ø§Ù„Ø­Ø¯ÙˆØ¯ -->
      <div class="form-row">
        <label>Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª ÙˆØ£Ø·ÙˆØ§Ù„ Ø§Ù„Ø­Ø¯ÙˆØ¯:</label>
        <div class="boundaries-grid">

          <!-- northernBoundary -->
          <div>
            <span id="northernBoundary">{{this.selectedLandTechnicalInspection()?.northernBoundary}}</span>
          </div>
          <div>
            <span id="northernBoundaryLength">{{this.selectedLandTechnicalInspection()?.northernBoundaryLength}}</span>
          </div>

          <!-- southernBoundary -->
          <div>
            <span id="southernBoundary">{{this.selectedLandTechnicalInspection()?.southernBoundary}}</span>
          </div>
          <div>
            <span id="southernBoundaryLength">{{this.selectedLandTechnicalInspection()?.southernBoundaryLength}}</span>
          </div>

          <!-- easternBoundary -->
          <div>
            <span id="easternBoundary">{{this.selectedLandTechnicalInspection()?.easternBoundary}}</span>
          </div>
          <div>
            <span id="easternBoundaryLength">{{this.selectedLandTechnicalInspection()?.easternBoundaryLength}}</span>
          </div>

          <!-- weasternBoundary -->
          <div>
            <span id="westernBoundary">{{this.selectedLandTechnicalInspection()?.westernBoundary}}</span>
          </div>
          <div>
            <span id="westernBoundaryLength">{{this.selectedLandTechnicalInspection()?.westernBoundaryLength}}</span>
          </div>

          <!-- northeastBoundary -->
          <div>
            <span id="northeastBoundary">{{this.selectedLandTechnicalInspection()?.northeastBoundary}}</span>
          </div>
          <div>
            <span
              id="northeastBoundaryLength">{{this.selectedLandTechnicalInspection()?.northeastBoundaryLength}}</span>
          </div>

          <!-- NorthwestBoundary -->
          <div>
            <span id="northwestBoundary">{{this.selectedLandTechnicalInspection()?.northwestBoundary}}</span>
          </div>
          <div>
            <span
              id="northwestBoundaryLength">{{this.selectedLandTechnicalInspection()?.northwestBoundaryLength}}</span>
          </div>

          <!-- SoutheastBoundary -->
          <div>
            <span id="southeastBoundary">{{this.selectedLandTechnicalInspection()?.southeastBoundary}}</span>
          </div>
          <div>
            <span
              id="southeastBoundaryLength">{{this.selectedLandTechnicalInspection()?.southeastBoundaryLength}}</span>
          </div>

          <!-- SoutheastBoundary -->
          <div>
            <span id="southwestBoundary">{{this.selectedLandTechnicalInspection()?.southwestBoundary}}</span>
          </div>
          <div>
            <span
              id="southwestBoundaryLength">{{this.selectedLandTechnicalInspection()?.southwestBoundaryLength}}</span>
          </div>
        </div>
      </div>

      <!-- Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„ÙÙ†ÙŠ -->
      <div class="form-row">
        <label for="technicalResponsiblePersonId">Ø±Ù‚Ù… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„ÙÙ†ÙŠ:</label>
        <span id="technicalResponsiblePersonId">{{selectedLandTechnicalInspection()?.legalResponsiblePersonId}}</span>
      </div>

      <!-- Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ -->
      <div class="form-row">
        <label for="legalResponsiblePersonId">Ø±Ù‚Ù… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ:</label>
        <span id="legalResponsiblePersonId">{{this.selectedLandTechnicalInspection()?.legalResponsiblePersonId}}</span>
      </div>

      <!-- ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙÙ†ÙŠØ© -->
      <div class="form-row">
        <label for="technicalInspectionDate">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙÙ†ÙŠØ©:</label>
        <span id="technicalInspectionDate">{{this.selectedLandTechnicalInspection()?.technicalInspectionDate| date:'fullDate'}}</span>
      </div>

      <!-- ØªØ§Ø±ÙŠØ® Ù„Ø¬Ù†Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬ -->
      <div class="form-row">
        <label for="needsCommitteeDate">ØªØ§Ø±ÙŠØ® Ù„Ø¬Ù†Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬:</label>
        <span id="needsCommitteeDate">{{this.selectedLandTechnicalInspection()?.needsCommitteeDate | date:'fullDate'}}</span>
      </div>
      }
    </div>
    }
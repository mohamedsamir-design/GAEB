<app-header 
  [pageTitle]="'ุจูุงูุงุช ุงูุทุฑู ุงููุญูุทุฉ'"
  [showBackButton]="true"
  [showHomeButton]="true"
  (backClicked)="navigateBack()"
  (homeClicked)="goHome()"
  (logoutClicked)="logout()"
></app-header>

<div class="container">
  <div class="page-content">
    <h1>ุจูุงูุงุช ุงูุทุฑู ุงููุญูุทุฉ</h1>
    <p class="subtitle">ุฃุฏุฎู ุจูุงูุงุช ุงูุทุฑู ุงููุญูุทุฉ ุจุงููุจูู</p>

    <!-- Roads Form -->
    <div class="form-wrapper">
      <form [formGroup]="roadsForm" (ngSubmit)="onSubmit()">
        <div class="form-section">
          <h3 class="section-title">ุจูุงูุงุช ุงููุจูู ูุงูุทุฑูู</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="buildingId">ููุฏ ุงููุจูู <span class="required">*</span></label>
              <input 
                type="text" 
                id="buildingId" 
                formControlName="buildingId"
                placeholder="ุฃุฏุฎู ููุฏ ุงููุจูู"
                [class.error]="roadsForm.get('buildingId')?.invalid && roadsForm.get('buildingId')?.touched"
              />
              @if (roadsForm.get('buildingId')?.invalid && roadsForm.get('buildingId')?.touched) {
                <span class="error-message">ููุฏ ุงููุจูู ูุทููุจ</span>
              }
            </div>

            <div class="form-group">
              <label for="roadName">ุงุณู ุงูุทุฑูู <span class="required">*</span></label>
              <input 
                type="text" 
                id="roadName" 
                formControlName="roadName"
                placeholder="ุฃุฏุฎู ุงุณู ุงูุทุฑูู"
                [class.error]="roadsForm.get('roadName')?.invalid && roadsForm.get('roadName')?.touched"
              />
              @if (roadsForm.get('roadName')?.invalid && roadsForm.get('roadName')?.touched) {
                <span class="error-message">ุงุณู ุงูุทุฑูู ูุทููุจ</span>
              }
            </div>

            <div class="form-group">
              <label for="roadWidth">ุนุฑุถ ุงูุทุฑูู (ูุชุฑ) <span class="required">*</span></label>
              <input 
                type="number" 
                id="roadWidth" 
                formControlName="roadWidth"
                placeholder="ุฃุฏุฎู ุนุฑุถ ุงูุทุฑูู"
                min="0"
                step="0.1"
                [class.error]="roadsForm.get('roadWidth')?.invalid && roadsForm.get('roadWidth')?.touched"
              />
              @if (roadsForm.get('roadWidth')?.invalid && roadsForm.get('roadWidth')?.touched) {
                <span class="error-message">ุนุฑุถ ุงูุทุฑูู ูุทููุจ</span>
              }
            </div>
          </div>
        </div>

        <div class="form-section">
          <h3 class="section-title">ุชูุงุตูู ุงูุทุฑูู</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="roadType">ููุน ุงูุทุฑูู <span class="required">*</span></label>
              <select 
                id="roadType" 
                formControlName="roadType"
                [class.error]="roadsForm.get('roadType')?.invalid && roadsForm.get('roadType')?.touched"
              >
                <option value="" disabled>ุงุฎุชุฑ ููุน ุงูุทุฑูู</option>
                @for (type of mainRoadTypes; track type.code) {
                  <option [value]="type.code">{{ type.name }}</option>
                }
              </select>
              @if (roadsForm.get('roadType')?.invalid && roadsForm.get('roadType')?.touched) {
                <span class="error-message">ููุน ุงูุทุฑูู ูุทููุจ</span>
              }
            </div>

            <div class="form-group">
              <label for="direction">ุงูุงุชุฌุงู <span class="required">*</span></label>
              <select 
                id="direction" 
                formControlName="direction"
                [class.error]="roadsForm.get('direction')?.invalid && roadsForm.get('direction')?.touched"
              >
                <option value="" disabled>ุงุฎุชุฑ ุงูุงุชุฌุงู</option>
                @for (direction of movementDirections; track direction.code) {
                  <option [value]="direction.code">{{ direction.name }}</option>
                }
              </select>
              @if (roadsForm.get('direction')?.invalid && roadsForm.get('direction')?.touched) {
                <span class="error-message">ุงูุงุชุฌุงู ูุทููุจ</span>
              }
            </div>

            <div class="form-group">
              <label for="condition">ุญุงูุฉ ุงูุทุฑูู <span class="required">*</span></label>
              <select 
                id="condition" 
                formControlName="condition"
                [class.error]="roadsForm.get('condition')?.invalid && roadsForm.get('condition')?.touched"
              >
                <option value="" disabled>ุงุฎุชุฑ ุญุงูุฉ ุงูุทุฑูู</option>
                @for (cond of roadConditions; track cond.code) {
                  <option [value]="cond.code">{{ cond.name }}</option>
                }
              </select>
              @if (roadsForm.get('condition')?.invalid && roadsForm.get('condition')?.touched) {
                <span class="error-message">ุญุงูุฉ ุงูุทุฑูู ูุทููุจุฉ</span>
              }
            </div>
          </div>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            <span>๐พ</span>
            ุญูุธ ุงูุจูุงูุงุช
          </button>
          <button type="button" class="btn btn-secondary" (click)="onReset()">
            <span>๐</span>
            ุฅุนุงุฏุฉ ุชุนููู
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
